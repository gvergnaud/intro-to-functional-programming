<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Intro To Functional Programming</title>
    <link rel="stylesheet" href="./css/reveal.css" />
    <link rel="stylesheet" href="./css/theme/solarized.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/atom-one-dark.css" />
    <link rel="stylesheet" href="./css/print/paper.css" type="text/css" media="print" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

### Une petite introduction au
## Functional Programming

<p style="font-size:.7em">Slides: https://gvergnaud.github.io/intro-to-functional-programming</p>
</script></section><section  data-markdown><script type="text/template">
## üëã

**Gabriel Vergnaud**

H√©ticien de la P2017

<div class="flex">
  <span>Frontend engineer at&nbsp;</span><img src="resources/logo-sketchfab.png" class="simple-image" style="width:200px" />
</div>

<div class="flex">
[@gvergnaud](https://github.com/gvergnaud)<span>&nbsp;on&nbsp;</span><img
  src="resources/logo-github.png"
  class="simple-image"
  style="width:50px;" />
</div>

<div class="flex">
[@GabrielVergnaud](https://twitter.com/GabrielVergnaud)<span>&nbsp;on&nbsp;</span><img
  src="resources/logo-twitter.png"
  class="simple-image"
  style="width:50px;" />
</div>

<aside class="notes"><ul>
<li>Qui suis je ?<ul>
<li>gabriel vergnaud</li>
<li>Heticien P2017</li>
<li>developer √† Sketchfab.com (On recrute!)</li>
<li>gvergnaud on github</li>
<li>GabrielVergnaud on twitter</li>
</ul>
</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">

## üëÄ
<p class="fragment">Qui √™tes vous ?</p>


<aside class="notes"><ul>
<li>Qui etes vous ?<ul>
<li>Techno utilis√©e ?</li>
<li>quels projets ?</li>
<li>plutot agence / produits ?</li>
<li>Dev back vs dev front ?</li>
</ul>
</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
### Objectif de cette semaine

<aside class="notes"><p>Quel genre de cours de dev j&#39;avais besoin et envie quand j&#39;√©tais en H3 ?
appris en auto-didacte. Connaissances empirique
Je faisais des applications de plus en plus complexe, mais il arriv√© toujours un
moment ou cette complexit√© devenait un peu hors de control. √ßa devenait compliqu√© d&#39;ajouter
des features sans cr√©er des bugs, le code devenait difficile √† lire...</p>
<p>J&#39;avais envie d&#39;approfondir mes connaissances pour √©viter de tomber dans 
ces pi√®ges. -&gt; L&#39;architecture d&#39;application.</p>
<p>Au dela de react, a travers les quelques jours de cours que j&#39;ai avec vous, j&#39;ai envie de 
vous transmettre ce que j&#39;ai d√©couvert ces derni√®res ann√©es en mati√®re
d&#39;architecture d&#39;application.</p>
</aside></script></section><section  data-markdown><script type="text/template">
J'√©tais sens√© vous parler de **React**...

<small class="fragment">Mais d'abord...</small>

<aside class="notes"><p>J&#39;ai beaucoup h√©sit√©, j&#39;ai pr√©par√© un cours sur react au d√©but et tout </p>
<p>Mais je me suis rendu compte que pour vous parler de ce dont je dois vous parler je dois introduire
un certain nombre de concepts.</p>
</aside></script></section><section  data-markdown><script type="text/template">
Un peu de ***th√©orie***
</script></section><section  data-markdown><script type="text/template">
<img src="https://media.giphy.com/media/APqEbxBsVlkWSuFpth/giphy.gif" />

<aside class="notes"><p>√ßa fait peur, mais c&#39;est cette partie <em>science</em> dans computer science qui fait qu&#39;on fait
un m√©tier digne d&#39;int√©r√™t et que l&#39;on est pas des machines. Il faut pas avoir peur de la th√©orie.</p>
</aside></script></section><section  data-markdown><script type="text/template">
### Une petite introduction au
## Functional Programming

<p style="font-size:.7em">Slides: https://gvergnaud.github.io/intro-to-functional-programming</p>
</script></section><section  data-markdown><script type="text/template">
##  Objectifs üó∫

- Comprendre ce qui se cache sous le terme *functional programming*
- Donner des pistes √† explorer
</script></section><section  data-markdown><script type="text/template">

<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  Pourquoi ?
</h2>


<!-- .slide: data-background="http://i.giphy.com/1M9fmo1WAFVK0.gif" -->
</script></section><section  data-markdown><script type="text/template">
<p class="fragment">De nouveaux frameworks tous les ans</p>

<p class="fragment">Ceux des ann√©es pr√©c√©dentes deviennent obsol√®tes</p>

<p class="fragment">Que doit on apprendre qui nous serve √† long terme ?</p>

</script></section><section  data-markdown><script type="text/template">
## Solution

<p class="fragment">Arr√™ter de passer du temps √† apprendre des **API**</p>

<p class="fragment">Mieux comprendre les fondamentaux du langage</p>

<p class="fragment">Se concentrer sur les **design patterns**</p>

</script></section><section  data-markdown><script type="text/template">
<h3 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  MPJME - How to stay relevant as a developer
</h3>

<p style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  [https://www.youtube.com/watch?v=ZZUY37RQS-k](https://www.youtube.com/watch?v=ZZUY37RQS-k)
</p>


<!-- .slide: data-background="resources/mpjme-relevant.png" -->
</script></section><section  data-markdown><script type="text/template">
### la promesse du functional programming

</script></section><section  data-markdown><script type="text/template">
un code avec

### Moins de bug
parce que plus facile √† comprendre

### en moins de temps
parce que plus facile √† r√©utiliser

</script></section><section  data-markdown><script type="text/template">
>‚ÄúDevelopers proficient in functional programming are going to be in large demand in the very near future.‚Äù

**Eric Elliott** - [_The Two pillars of Javascript - Part 2_](https://medium.com/javascript-scene/the-two-pillars-of-javascript-pt-2-functional-programming-a63aa53a41a4)

</script></section><section  data-markdown><script type="text/template">
### Quelque langage functionnels

Lisp, ML,


Haskell, Scala, Erlang, Elixir, Clojure, OCaml‚Ä¶


----------------

**Qui compilent en JS**

Reason, Elm, ClojureScript

----------------

**Dans une moindre mesure**

le JS

</script></section><section  data-markdown><script type="text/template">
## Mais

on peut faire du fonctional dans *presque* tous les languages.

Ruby, Python, ..., m√™me PHP !

</script></section><section  data-markdown><script type="text/template">

<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  Ok mais c'est quoi ?
</h2>


<!-- .slide: data-background="http://i.giphy.com/cx5UoGpRwLra0.gif" -->
</script></section><section  data-markdown><script type="text/template">
<p class="fragment">Pr√©f√©rer un style **d√©claratif** √† un style imp√©ratif</p>

<p class="fragment">+</p>

<p class="fragment">d√©couper son code en petites **fonctions** r√©utilisables et composables.</p>

<p class="fragment">+</p>

<p class="fragment">Ne **jamais** mutter les donn√©es</p>


<aside class="notes"><p>√áa permet de monter facilement en abstraction et d‚Äôarreter de tout micro manager.</p>
</aside></script></section><section  data-markdown><script type="text/template">
## I
## Imp√©ratif vs D√©claratif

</script></section><section  data-markdown><script type="text/template">
###  Filtrer un tableau

Imp√©ratif :

```js
const users = [{ age: 20 }, { age: 31 }, { age: 17 }]

let oldUsers = []
for (let i = 0; i < users.length; i++) {
	const currentUser = users[i]
	if (currentUser.age > 30) oldUsers.push(currentUser)
}

console.log(oldUsers)
// => [{ age: 31 }]
```


<p class="fragment">Oulala qu'est ce que √ßa micromanage</p>


<aside class="notes"><p>Micro management =</p>
<ul>
<li>d√©claration de variables temporaire,</li>
<li>for loops,</li>
<li>if statements</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
### les symptomes de l'imp√©ratif

- d√©claration de variables temporaires
- mutation de donn√©es
- des statements
  - for loops
  - if/else statements

</script></section><section  data-markdown><script type="text/template">
####  Filtrer un tableau

D√©claratif :


```js
const oldUsers = filter(user => user.age > 30, users)

console.log(oldUsers)
// => [{ age: 31 }]
```

</script></section><section  data-markdown><script type="text/template">


<!-- .slide: data-background="http://i.giphy.com/sN4xqr7YG4pm8.gif" -->
</script></section><section  data-markdown><script type="text/template">
####  Filtrer un tableau

D√©claratif :


```js
const oldUsers = filter(user => user.age > 30, users)

console.log(oldUsers)
// => [{ age: 31 }]
```

On va **d√©crire** le comportement du programme

plut√¥t que de dire ce qu'il se passe

√† chaque √©tape de la boucle.

Mais ou est donc d√©finie la function filter ?

</script></section><section  data-markdown><script type="text/template">
**Le d√©claratif est construit sur de l‚Äôimp√©ratif.**

```js
function filter(predicate, xs) {
	let out = []
	for (let i = 0; i < xs.length; i++) {
		if (predicate(xs[i])) out.push(xs[i])
	}
	return out
}
```


<p class="fragment">`filter` est ce qu'on appelle une **Higher Order Function**</p>

</script></section><section  data-markdown><script type="text/template">
## Higher Order Function

> ‚ÄúIts like the word Quintessential :

> when you say it, it just makes you feel smart.‚Äù

@mpjme

[Youtube - Higher Order Functions](https://www.youtube.com/watch?v=BMUiFMZr7vk)

</script></section><section  data-markdown><script type="text/template">
### Higher Order Function

Une fonction qui :

<p class="fragment">va **abstraire** un bout de code **g√©n√©rique**</p>

<p class="fragment">va prendre une **autre** fonction en param√®tre</p>

<p class="fragment">qui **d√©crit** le comportement **sp√©cifique** de notre code.</p>

</script></section><section  data-markdown><script type="text/template">
### Je vous ai menti
(un peu)

On peut aussi faire des boucles de mani√®re d√©clarative




```js
const filter = (f, [x, ...rest]) =>
	rest.length
		? f(x) ? [x, ...filter(f, rest)] : filter(f, rest)
		: f(x) ? [x] : []
```


gr√¢ce √† la recursion !

</script></section><section  data-markdown><script type="text/template">
**Filter est build-in sur Array.prototype**
```js
const oldUsers = users.filter(user => user.age > 30)
```

</script></section><section  data-markdown><script type="text/template">
### Transformer un tableau

>C'est √† dire transformer chacun des items d'un tableau pour en cr√©er un nouveau.

Imp√©ratif :

```js
const users = [{ age: 20 }, { age: 31 }, { age: 17 }]

let userAges = []
for (let i = 0; i < users.length; i++) {
	userAges.push(users[i].age)
}

console.log(userAges)
// => [20, 31, 17]
```

</script></section><section  data-markdown><script type="text/template">
####  Transformer un tableau

D√©claratif : la m√©thode **map()**

```js
const userAges = users.map(user => user.age)
console.log(userAges)
// => [20, 31, 17]
```

OU

```js
const userAges = map(user => user.age, users)

console.log(userAges)
// => [20, 31, 17]
```

</script></section><section  data-markdown><script type="text/template">
####  Transformer un tableau

impl√©mentation de map

```js
function map(mapper, xs) {
	let out = []
	for (let i = 0; i < xs.length; i++) {
		out.push(mapper(xs[i]))
	}
	return out
}
```

ou avec recursion
```js
const map = (f, [x, ...rest]) =>
  rest.length ? [f(x), ...map(rest)] : [f(x)]
```

</script></section><section  data-markdown><script type="text/template">
###  Accumuler un tableau

>C'est √† dire transformer les items d'un tableau en une seule valeur.


Imp√©ratif :

```js
const numbers = [20, 31, 17]

let sum = 0
for (let i = 0; i < numbers.length; i++) {
	sum = sum + numbers[i]
}

console.log(sum)
// => 68
```

</script></section><section  data-markdown><script type="text/template">
#### Accumuler un tableau

D√©claratif : la m√©thode **reduce()**

```js
const sum = numbers.reduce((acc, num) => acc + num, 0)

console.log(sum)
// => 68
```

OU

```js
const sum = reduce((acc, num) => acc + num, 0, numbers)

console.log(sum)
// => 68
```

</script></section><section  data-markdown><script type="text/template">
#### Accumuler un tableau

Impl√©mentation de reduce

```js
function reduce(reducer, seed, xs) {
  let out = seed
  for (let i = 0; i < xs.length; i++) {
    out = reducer(out, xs[i])
  }
  return out
}
```

Ou avec recursion

```js
const reduce = (f, acc, [x, ...rest]) =>
  rest.length ? reduce(f, f(acc, x), rest) : f(acc, x)
```

</script></section><section  data-markdown><script type="text/template">
### Chainer ces modifications

C'est maintenant que √ßa prend tout son sens...

</script></section><section  data-markdown><script type="text/template">
```js
// users :: [ { name :: String, age :: Int } ]

const name = 'Kevin'
let averageAge = 0
let filteredUsers = []

for (let i = 0; i < users.length; i++) {
  const user = users[i]
  if (user.name === name) filteredUsers.push(user)
}

for (let j = 0; j < filteredUsers.length; j++) {
  const user = filteredUsers[j]
  averageAge = averageAge + user.age / filteredUsers.length
}
```


Qu'est ce que √ßa fait en un coup d'oeil ?

</script></section><section  data-markdown><script type="text/template">


<!-- .slide: data-background="http://i.giphy.com/tO5ddHjpXB6lG.gif" -->
</script></section><section  data-markdown><script type="text/template">
```js
const averageAge = users
  .filter(user => user.name === 'Kevin')
  .map(user => user.age)
  .reduce((acc, age, _, ages) => acc + age / ages.length, 0)
```

Et maintenant ?

</script></section><section  data-markdown><script type="text/template">
### En conclusion

- **L'Imp√©ratif, visuellement, c'est pas facile.**

la sp√©cificit√© du bout de code est noy√©e dans les d√©tails d'impl√©mentation g√©n√©riques.

</script></section><section  data-markdown><script type="text/template">
#### En conclusion

- **Imp√©ratif = code peu r√©utilisable**

nos boucles sont sp√©cifiquement faite pour notre probl√®me actuel.

</script></section><section  data-markdown><script type="text/template">
#### En conclusion

- **Imp√©ratif = code complexe**

</script></section><section  data-markdown><script type="text/template">
<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  Simplicity vs Complexity
</h2>


<p style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  Rich Hickey - [Simple Made Easy](https://www.youtube.com/watch?v=rI8tNMsozo0)
</p>


<!-- .slide: data-background="resources/simple-made-easy.png" -->
</script></section><section  data-markdown><script type="text/template">
# T.P.

### Parser de la NASA !

</script></section><section  data-markdown><script type="text/template">
<iframe src="https://codesandbox.io/embed/exercice-fp-declarative-vs-imperative-lrion?fontsize=14&view=editor" title="Exercice FP declarative vs imperative" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
</script></section><section  data-markdown><script type="text/template">
## II
## Des petites functions r√©utilisables

</script></section><section  data-markdown><script type="text/template">
### fonction pure

>une fonction pure (ou stateless) est une fonction qui respecte quelques petites r√®gles.

</script></section><section  data-markdown><script type="text/template">
#### une fonction pure

prend des param√®tres et retourne un r√©sultat

```js
// Pure
const add = (a, b) => a + b
add(2, 2)
// => 4

// Impure
const add = (a, b, cb) => {
  cb(a + b)
}
add(2, 2, v => console.log(v))
// => undefined
// "4"
```

</script></section><section  data-markdown><script type="text/template">
#### une fonction pure

n'alt√®re pas les param√®tres qui lui sont pass√©s


```js
// Pure
const addValue = (arr, v) => arr.concat(v)
addValue([1, 2, 3], 4)
// => [1, 2, 3, 4]


// Impure
const addValue = (arr, v) =>¬†{
  arr.push(v)
}

let myArray = [1, 2, 3]
addValue(myArray, 4)
// => undefined
// myArray === [1, 2, 3, 4]

```

</script></section><section  data-markdown><script type="text/template">
#### une fonction pure

n'int√©ragit pas avec le scope dans lequel elle se trouve

```js
const number = 3

// Pure
const isOdd = x => !(x % 2)
isOdd(number)
// => true

// Impure
const isOdd = () => !(number % 2)
isOdd()
// => true

```

</script></section><section  data-markdown><script type="text/template">
#### une fonction pure

n'a pas d'effet de bord


```js
// Impure
const getUsers = (callback) => {
  fetch(`/user`).then(callback)
}
```

</script></section><section  data-markdown><script type="text/template">
### Pourquoi c'est chouette ?


Pour les m√™mes arguments donn√©es la function retournera **toujours** la m√™me chose. On peut Memoize!


Facile √† **comprendre** car pas de d√©pendences externes.


Pas de comportement chelou.

</script></section><section  data-markdown><script type="text/template">


<!-- .slide: data-background="http://i.giphy.com/tIeCLkB8geYtW.gif" -->
</script></section><section  data-markdown><script type="text/template">
#### function pure

## Fonction as Data

</script></section><section  data-markdown><script type="text/template">
### Ptit test


```js
const isThisPure = x => x * 2
```

alors ? pure ou pas pure ?

</script></section><section  data-markdown><script type="text/template">
#### Ptit test


```js
const isThisPure = str => {
	window.title = str
}
```

</script></section><section  data-markdown><script type="text/template">
#### Ptit test


```js
const isThisPure = str => {
	const title = `AppName - ${str}`
	return () => window.title = title
}
```

</script></section><section  data-markdown><script type="text/template">
### ‚ÄúMais avec √ßa on peut rien faire !‚Äù

</script></section><section  data-markdown><script type="text/template">
#### Oui, c'est vrai.

</script></section><section  data-markdown><script type="text/template">
Ce qui nous int√©resse dans un programme c'est les side effects.

- Render quelque chose sur la page
- R√©agir √† des events
- √âcrire dans une db

On va pas loin avec des fonctions pures.

</script></section><section  data-markdown><script type="text/template">
Mais les side effects sont aussi les plus susceptibles de bugger.

</script></section><section  data-markdown><script type="text/template">
### Flow d'un code functional

```

    SideEffect -> Pure -> SideEffect
_
```

Pousser les side effects aux bords de notre code.

<aside class="notes"><p>Demo -&gt;</p>
<pre><code class="lang-js">getData().then(app)

const app = compose(
  render
  map(etc)
)
</code></pre>
</aside></script></section><section  data-markdown><script type="text/template">
#### Flow d'un code functional


Par exemple :

```

    GetData -> Computation -> Render
_
```
Computation = la logique de notre app

</script></section><section  data-markdown><script type="text/template">
#### Flow d'un code functional



```

    render(compute(getData()))
_
```

Ca vous rappelle pas quelque chose ?

</script></section><section  data-markdown><script type="text/template">
#### Flow d'un code functional



```

    view(controller(model()))
_
```

</script></section><section  data-markdown><script type="text/template">
```

    view(controller(model()))
_
```

Bon c'est un peu tir√© par les cheveux.

Mais on a bien nos trois parties

les **donn√©es**, le **traitement** et la **vue**.

</script></section><section  data-markdown><script type="text/template">
<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  composition
</h2>


<!-- .slide: data-background="http://i.giphy.com/mGj3SVN7xbPQ4.gif" -->
</script></section><section  data-markdown><script type="text/template">
## Mais qu'est ce donc ?

> Soit deux fonction `f(x)` et `g(x)`

> leur function compos√©e est `f(g(x))`

</script></section><section  data-markdown><script type="text/template">
<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  des maths :(
</h2>


<!-- .slide: data-background="resources/DontFearTheMonad.png" -->
</script></section><section  data-markdown><script type="text/template">
##  Mais non !

</script></section><section  data-markdown><script type="text/template">
<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  des legos ! :)
</h2>


<!-- .slide: data-background="resources/lego.jpg" -->
</script></section><section  data-markdown><script type="text/template">
#### Je m'explique

L'id√©e est de connecter les functions entre elles

en passant le resultat d'un fonction en param√®tre √† la suivante.

```js
import { compose } from 'ramda';

const double = x => x * 2
const tripple = x => x * 3

// composition ->

const sixtuple = compose(double, tripple)

console.log(sixtuple(7))
// 42

```

</script></section><section  data-markdown><script type="text/template">
Pareil que

```js
const double = x => x * 2
const tripple = x => x * 3

const sixtuple = x => double(tripple(x))

console.log(sixtuple(7))
// 42

```

</script></section><section  data-markdown><script type="text/template">
Pareil que

```js
const sixtuple = x => {
  const trippled = tripple(x)
  const result = double(trippled)
  return result
}

console.log(sixtuple(7))
// 42
```

</script></section><section  data-markdown><script type="text/template">
#### Composition

Comme si on emboitait des l√©gos !

</script></section><section  data-markdown><script type="text/template">
> ‚ÄúThe way to control Complexity

>is Compositionality.‚Äù

Brian Beckman: [Don't Fear The Monad](https://www.youtube.com/watch?v=ZhuHCtR3xq8)

</script></section><section  data-markdown><script type="text/template">
#### (Parenth√®se)

### Hindley-Milner Type Notation

</script></section><section  data-markdown><script type="text/template">
#### Hindley-Milner Type Notation

Signature de function qui d√©crit son type

```hs

  multiplyByTwo :: Int -> Int
  const multiplyByTwo = x => x * 2
_
```

</script></section><section  data-markdown><script type="text/template">
#### Hindley-Milner Type Notation

```hs

  length :: String -> Int
  const length = str => str.length
_
```

</script></section><section  data-markdown><script type="text/template">
### Je l'ai pas invent√© !

Il y a m√™me un moteur de recherche pour √ßa :

![HOOGLE](resources/hoogle.png)
[HOOGLE](https://www.haskell.org/hoogle/)


Haskell Function Search Engine

</script></section><section  data-markdown><script type="text/template">
#### Hindley-Milner Type Notation

C'est tr√®s pratique pour composer des functions.

```hs
length :: String -> Int
const length = str => str.length

isGreaterThanTen :: Int -> Bool
const isGreaterThanTen = x => x > 10
```

quel sera la signature de

```js
compose(isGreaterThanTen, length)
```
?

</script></section><section  data-markdown><script type="text/template">
#### Hindley-Milner Type Notation


```js
const isLengthGreaterThanTen = compose(length, isGreaterThanTen)
```

```hs
(String -> Int) + (Int -> Bool) = String -> Bool
```

donc

```hs
isLengthGreaterThanTen :: String -> Bool
```

</script></section><section  data-markdown><script type="text/template">
#### la composition

## Le probl√®me

>comment on fait quand les functions pr√®nnent plusieurs arguments ?

</script></section><section  data-markdown><script type="text/template">
<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  curry
</h2>
<p style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  la solution √† tous nos soucis
</p>


<!-- .slide: data-background="resources/curry.jpg" -->
</script></section><section  data-markdown><script type="text/template">
## Le Currying

> une fonction curri√©e est une function qui, lorsqu'on ne lui donne pas tous ses
 param√®tres, renvoie une function qui prendra le reste.

</script></section><section  data-markdown><script type="text/template">
### Le Currying


```js
import { curry } from 'ramda';

const sumOfFour = (a, b, c, d) => a + b + c + d

sumOfFour(1)
// => NaN

const curriedSumOfFour = curry(sumOfFour)
curriedSumOfFour(1)
// => (b, c, d) => 1 + b + c + d
_
```

</script></section><section  data-markdown><script type="text/template">
### Le Currying

Presque pas besoin :

```js

const sumOfFour = a => b => c => d => a + b + c + d

sumOfFour(1)
// => (b, c, d) => 1 + b + c + d
_
```
en ES6, les `arrow functions` facilitent la syntaxe

des functions qui retournent des functions.

</script></section><section  data-markdown><script type="text/template">
### Le Currying

Mais la function `curry` nous permet de passer

aussi plusieurs param√®tres d'un coup si on veut :

```js

const sumOfFour = curry((a, b, c, d) => a + b + c + d)

sumOfFour(1, 2)
// => (c, d) => 1 + 2 + c + d

const sumOfFour = a => b => c => d => a + b + c + d

sumOfFour(1, 2)
// => (b, c, d) => 1 + b + c + d
// :(
_
```

</script></section><section  data-markdown><script type="text/template">
#### (Parenth√®se)

<h2>
  <span style="text-transform: capitalize !important;">Haskell </span>
  <span style="text-transform: capitalize !important;">Curry </span>
</h2>

</script></section><section  data-markdown><script type="text/template">
<h1 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  T.P.
</h1>

<h3 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  Back to the nasa
</h3>


<!-- .slide: data-background="http://i.giphy.com/oZmk8DX9H0foA.gif" -->
</script></section><section  data-markdown><script type="text/template">
#### reprenons

</script></section><section  data-markdown><script type="text/template">
<h2 style="color: white !important; text-shadow: 0px 3px 15px rgba(0,0,0,.5)">
  Des donn√©es immutables
</h2>


<!-- .slide: data-background="resources/statue.jpg" -->
</script></section><section  data-markdown><script type="text/template">
#### Des donn√©es immutables

> En functional programming lorsque l'on assigne une variable, √ßa veut dire
qu'elle ne changera plus jamais.

</script></section><section  data-markdown><script type="text/template">
#### Des donn√©es immutables

Les donn√©es immutables c'est bien

parce ce que √ßa supprime de l'incertitude.

</script></section><section  data-markdown><script type="text/template">
### Incertitude = Bug

</script></section><section  data-markdown><script type="text/template">
#### (Parenth√®se)

l'utilisation de `const` ne rend pas la donn√©e immutable.

Cela emp√®che juste que la variable puisse √™tre r√©-assign√©e.

Ou pourra toujours modifier les items d'un array ou les cl√©s d'un objet.

</script></section><section  data-markdown><script type="text/template">
#### Des donn√©es immutables

Comment √©viter de mutter un tableau ?

ne **pas** utiliser `push()`

```js

  const immutablePush = (x, xs) => xs.concat(x)
  // OU
  const immutablePush = (x, xs) => [ ...xs, x]
_
```
modifier un item :
```js

  const immutableSetAtIndex = (index, value, xs) => [
    ...xs.slice(0, index),
    value,
    ...xs.slice(index + 1)
  ]
_
```

</script></section><section  data-markdown><script type="text/template">
#### Des donn√©es immutables

Comment √©viter de mutter un object ?

```js

  const objectSet = (key, value, obj) =>
    Object.assign({}, obj, { [key]: value })

  // OU

  const objectSet = (key, value, obj) =>
    ({ ...obj, [key]: value })
_
```

</script></section><section  data-markdown><script type="text/template">
#### Des donn√©es immutables

### Les lens

Une api plus friendly pour faire de l'immutable.


3 m√©thodes : `view`, `over` et `set`.
```js
// view :: Lens -> DataStructure -> a
view(lens, dataStructure)

// over :: Lens -> (a -> a) -> DataStructure -> DataStructure
over(lens, mapper, dataStructure)

// set :: Lens -> a -> DataStructure -> DataStructure
set(lens, value, dataStructure)
_
```

</script></section><section  data-markdown><script type="text/template">
#### Des donn√©es immutables

Immutable.js

</script></section><section  data-markdown><script type="text/template">
# Bient√¥t fini !
## plus que Les Setoid,
### Les Semigroup, Les Monoid, Les Functor,
#### Les Apply, Les Applicative, Les Foldable, Les Traversable,
##### Les Chain, Les Monad, Les Extend, Les Comonad ...

</script></section><section  data-markdown><script type="text/template">


<!-- .slide: data-background="http://i.giphy.com/11RUijoqnc1yJW.gif" -->
</script></section><section  data-markdown><script type="text/template">
## Merci

#### de votre attention

</script></section><section  data-markdown><script type="text/template">
## Ressources
- [Eric Elliott - The Two pillars of Javascript - Part 2](https://medium.com/javascript-scene/the-two-pillars-of-javascript-pt-2-functional-programming-a63aa53a41a4#.507emzobw)

- [@mpjme - Youtube channel](https://www.youtube.com/channel/UCO1cgjhGzsSYb1rsB4bFe4Q)

- [DrBoolean - Mostly Adequate Guide To Functional-Programming](https://drboolean.gitbooks.io/mostly-adequate-guide/content/)

- [Rich Hickey - Simple Made Easy](https://www.youtube.com/watch?v=rI8tNMsozo0)

- [DrBoolean - Hey Underscore, You're Doing It Wrong!](https://www.youtube.com/watch?v=m3svKOdZijA)

- [Brian Beckman: Don't fear the Monad (pour les oufs)](https://www.youtube.com/watch?v=ZhuHCtR3xq8)

- [functinal programming en PHP (no joke)](http://www.phptherightway.com/pages/Functional-Programming.html)

</script></section><section  data-markdown><script type="text/template">
Mon ptit nom c'est **Gabriel Vergnaud**

- [@gvergnaud on Github](https://github.com/gvergnaud)
- [@gabrielvergnaud on Twitter](https://twitter.com/GabrielVergnaud)
- [LinkedIn](https://www.linkedin.com/in/gabriel-vergnaud-09446199)


<style>
  .flex {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .flex > *:not(:first-child) {
    margin-left: 10px
  }

  img.simple-image.simple-image {
    border:none;
    box-shadow:none;
    background: none;
  }

  .white.white.white {
    color: white;
    text-shadow: 0 2px 4px rgba(0,0,0, .5);
  }

  .lower.lower.lower {
    text-transform: none;
  }

  .reveal {
    font-size: 32px;
  }

  .reveal small {
    font-size: 0.7em;
  }

  .reveal pre {
    border-radius: 5px;
    box-shadow: 0px 8px 25px rgba(0,0,0,.25);
  }

  .reveal section img {
    border: none;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15)
  }

  .reveal pre code {
    padding: 30px;
    border-radius: 5px;
    font-weight: normal;
  }

  .reveal code {
    font-weight: bold;
  }
</style>
</script></section></div>
    </div>

    <script src="./lib/js/head.min.js"></script>
    <script src="./js/reveal.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // Optional libraries used to extend on reveal.js
      var deps = [
        { src: './lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: './plugin/markdown/marked.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './plugin/markdown/markdown.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: './plugin/zoom-js/zoom.js', async: true },
        { src: './plugin/notes/notes.js', async: true },
        { src: './plugin/math/math.js', async: true }
      ];

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        dependencies: deps
      };

      // options from URL query string
      var queryOptions = Reveal.getQueryHash() || {};

      var options = extend(defaultOptions, {"transition":"slide"}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
